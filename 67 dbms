 USE sample1;

DROP FUNCTION IF EXISTS funcon;

DELIMITER $$

USE sample1 $$

CREATE DEFINER=`root`@`localhost` FUNCTION funcon(s CHAR(20)) 
RETURNS CHAR(50)
CHARSET utf8mb4
DETERMINISTIC
BEGIN
    RETURN CONCAT('Hello, ', s, '!!');
    RETURN 1;
END$$

DELIMITER ;

-- Executing function
SELECT funcon('world');
-- Output: 'Hello, world!!'



USE db1;

-- Create table
CREATE TABLE studentnew (
    rollno INT,
    name VARCHAR(10),
    marks INT,
    status VARCHAR(10)
);

-- Insert values
INSERT INTO studentnew 
VALUES
(1, 'ram', 60, 'pass'),
(2, 'seetha', 50, 'pass'),
(3, 'diya', 40, 'null'),
(4, 'john', 20, 'null');

-- View table
SELECT * FROM studentnew;

-- Create stored procedure
DELIMITER @@
CREATE PROCEDURE updatestatus1(IN mark1 INT)
BEGIN
    DECLARE mymark INT;
    SET mymark = mark1;

    IF mymark > 35 THEN
        UPDATE studentnew SET status = 'pass' WHERE marks = mymark;
    ELSE
        UPDATE studentnew SET status = 'fails' WHERE marks = mymark;
    END IF;
END@@
DELIMITER ;
